Agent agent_shinjuku exp_duration 15s
Bin Path /dev/shm/agent_shinjuku
Running ghOSt experiments...
Output Directory: /tmp/ghost_data/2023-11-21 00:36:54
{"throughputs": [10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 110000, 120000, 130000, 140000, 150000], "output_prefix": "/tmp/ghost_data/2023-11-21 00:36:54", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.01, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 200, "worker_cpus": [], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "ghost", "ghost_qos": 2}, "antagonist": null, "ghost": {"firstcpu": 11, "globalcpu": 11, "ncpus": 7, "preemption_time_slice": "30us"}}
Running experiment for throughput = 10000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get: 137551
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           137551             9931                   0            0            11           13           15           74
Repeatable Handle Time       137551             9931                   0            0            2            2            2            20
Worker Queue Time            137551             9931                   0            15           66           73           84           18613
Worker Handle Time           137551             9931                   10           11           25           27           43           2513
Total                        137551             9931                   11           28           80           87           109          18625
Range: 1425
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1425               102                    0            0            10           12           15           16
Repeatable Handle Time       1425               102                    0            0            2            2            2            2
Worker Queue Time            1425               102                    0            15           68           71           79           97
Worker Handle Time           1425               102                    5001         5002         6696         6757         17609        17823
Total                        1425               102                    5002         5019         6714         6762         17620        17844
All: 138976
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           138976             10034                  0            0            11           13           15           74
Repeatable Handle Time       138976             10034                  0            0            2            2            2            20
Worker Queue Time            138976             10034                  0            15           66           73           84           18613
Worker Handle Time           138976             10034                  10           11           5001         5002         6278         17823
Total                        138976             10034                  11           28           5009         5020         6298         18625
Running experiment for throughput = 20000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get: 281461
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           281461             19810                  0            0            7            11           19           6917
Repeatable Handle Time       281461             19810                  0            0            2            2            2            21
Worker Queue Time            281461             19810                  0            11           66           90           1111         26147
Worker Handle Time           281461             19810                  10           11           27           35           68           25836
Total                        281461             19810                  11           24           84           122          3922         26160
Range: 2860
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2860               201                    0            0            7            11           20           6917
Repeatable Handle Time       2860               201                    0            0            2            2            2            11
Worker Queue Time            2860               201                    0            11           67           83           1227         4281
Worker Handle Time           2860               201                    5001         5356         9710         13485        47166        53182
Total                        2860               201                    5002         5372         10115        13495        47178        53213
All: 284321
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           284321             20012                  0            0            7            11           19           6917
Repeatable Handle Time       284321             20012                  0            0            2            2            2            21
Worker Queue Time            284321             20012                  0            11           66           89           1115         26147
Worker Handle Time           284321             20012                  10           11           5001         5369         8031         53182
Total                        284321             20012                  11           24           5011         5554         8124         53213
Running experiment for throughput = 30000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get: 389070
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389070             29672                  0            0            10           13           246          10513
Repeatable Handle Time       389070             29672                  0            0            2            2            2            17
Worker Queue Time            389070             29672                  0            11           155          1502         11869        23809
Worker Handle Time           389070             29672                  10           11           37           58           149          25863
Total                        389070             29672                  11           25           247          2345         12426        25865
Range: 3860
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3860               294                    0            0            10           13           985          7024
Repeatable Handle Time       3860               294                    0            0            2            2            2            3
Worker Queue Time            3860               294                    0            11           275          2356         8978         19507
Worker Handle Time           3860               294                    5001         5051         13193        17984        22585        27759
Total                        3860               294                    5001         5070         14334        18424        23396        27767
All: 392930
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           392930             29966                  0            0            10           13           249          10513
Repeatable Handle Time       392930             29966                  0            0            2            2            2            17
Worker Queue Time            392930             29966                  0            11           156          1530         11869        23809
Worker Handle Time           392930             29966                  10           11           2792         5052         6323         27759
Total                        392930             29966                  11           25           5037         5767         12887        27767
Running experiment for throughput = 40000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get: 557579
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           557579             39580                  0            0            4            10           1839         6498
Repeatable Handle Time       557579             39580                  0            0            2            2            2            64
Worker Queue Time            557579             39580                  0            13           499          2351         13432        51167
Worker Handle Time           557579             39580                  10           12           77           109          428          51245
Total                        557579             39580                  11           27           657          3587         13971        51257
Range: 5685
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5685               403                    0            0            4            9            3340         5886
Repeatable Handle Time       5685               403                    0            0            2            2            2            13
Worker Queue Time            5685               403                    0            13           319          1499         14584        47383
Worker Handle Time           5685               403                    5001         7354         30767        36343        54010        224326
Total                        5685               403                    5002         7395         31457        38403        56319        224338
All: 563264
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           563264             39984                  0            0            4            10           1837         6498
Repeatable Handle Time       563264             39984                  0            0            2            2            2            64
Worker Queue Time            563264             39984                  0            13           497          2336         13414        51167
