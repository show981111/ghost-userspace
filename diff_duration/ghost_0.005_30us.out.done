Agent agent_shinjuku exp_duration 15s
Bin Path /dev/shm/agent_shinjuku
Running ghOSt experiments...
Output Directory: /tmp/ghost_data/2023-11-21 00:48:03
{"throughputs": [10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 110000, 120000, 130000, 140000, 150000, 160000, 170000, 180000, 190000, 200000, 210000, 220000, 230000, 240000, 250000, 260000, 270000, 280000, 290000, 300000], "output_prefix": "/tmp/ghost_data/2023-11-21 00:48:03", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.005, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 200, "worker_cpus": [], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "4us", "range_duration": "10000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "ghost", "ghost_qos": 2}, "antagonist": null, "ghost": {"firstcpu": 11, "globalcpu": 11, "ncpus": 7, "preemption_time_slice": "30us"}}
Running experiment for throughput = 10000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get: 148570
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           148570             10000                  0            0            8            12           16           5124
Repeatable Handle Time       148570             10000                  0            0            2            2            2            24
Worker Queue Time            148570             10000                  0            14           71           104          5425         24597
Worker Handle Time           148570             10000                  5            8            25           36           73           24525
Total                        148570             10000                  5            23           88           133          5724         24610
Range: 697
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           697                46                     0            0            7            12           15           15
Repeatable Handle Time       697                46                     0            0            2            2            2            2
Worker Queue Time            697                46                     0            14           74           86           6919         6919
Worker Handle Time           697                46                     10001        10002        11828        17383        38325        38325
Total                        697                46                     10002        10018        12764        17392        38350        38350
All: 149267
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           149267             10047                  0            0            8            12           16           5124
Repeatable Handle Time       149267             10047                  0            0            2            2            2            24
Worker Queue Time            149267             10047                  0            14           71           104          5426         24597
Worker Handle Time           149267             10047                  5            8            34           112          10002        38325
Total                        149267             10047                  5            23           126          10010        10046        38350
Running experiment for throughput = 20000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get: 258459
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           258459             19877                  0            0            9            12           50           3948
Repeatable Handle Time       258459             19877                  0            0            2            2            3            503
Worker Queue Time            258459             19877                  0            11           637          4653         21590        44988
Worker Handle Time           258459             19877                  5            8            40           64           390          37239
Total                        258459             19877                  5            21           790          5359         21722        44997
Range: 1352
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1352               103                    0            0            6            14           2040         3704
Repeatable Handle Time       1352               103                    0            0            2            2            2            3
Worker Queue Time            1352               103                    0            11           1106         9750         27002        44392
Worker Handle Time           1352               103                    10001        10031        29025        31055        35080        55382
Total                        1352               103                    10002        10052        29545        33099        55393        58075
All: 259811
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           259811             19981                  0            0            9            12           52           3948
Repeatable Handle Time       259811             19981                  0            0            2            2            3            503
Worker Queue Time            259811             19981                  0            11           638          4689         21696        44988
Worker Handle Time           259811             19981                  5            8            65           10001        11165        55382
Total                        259811             19981                  5            21           5675         10207        22475        58075
Running experiment for throughput = 30000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get: 389862
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389862             29878                  0            0            8            33           3129         8368
Repeatable Handle Time       389862             29878                  0            0            2            2            2            131
Worker Queue Time            389862             29878                  0            11           6268         10210        16449        45996
Worker Handle Time           389862             29878                  4            8            59           102          731          49657
Total                        389862             29878                  5            21           6873         10456        16664        49668
Range: 1948
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1948               149                    0            0            11           35           2343         3973
Repeatable Handle Time       1948               149                    0            0            2            2            2            13
Worker Queue Time            1948               149                    0            11           6828         11077        14049        27092
Worker Handle Time           1948               149                    10001        10415        31538        34623        47127        70701
Total                        1948               149                    10001        10458        32022        36918        47128        70702
All: 391810
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           391810             30027                  0            0            8            33           3129         8368
Repeatable Handle Time       391810             30027                  0            0            2            2            2            131
Worker Queue Time            391810             30027                  0            11           6270         10211        16447        45996
Worker Handle Time           391810             30027                  4            8            101          10001        13827        70701
Total                        391810             30027                  5            21           10021        11880        19102        70702
Running experiment for throughput = 40000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get: 519652
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           519652             38153                  0            13350        455310       483344       522118       526730
Repeatable Handle Time       519652             38153                  0            0            2            2            3            15670
Worker Queue Time            519652             38153                  0            0            57394        105400       465238       2685518
Worker Handle Time           519652             38153                  4            7            379          784          14524        2192850
Total                        519652             38153                  5            17204        472061       504311       622812       2685529
Range: 2560
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2560               187                    0            12303        457695       482369       522101       525120
Repeatable Handle Time       2560               187                    0            0            2            2            4            37
Worker Queue Time            2560               187                    0            0            44788        82881        304075       2485727
Worker Handle Time           2560               187                    10001        31697        1036212      2163034      2733125      2783067
Total                        2560               187                    10002        75292        1179505      2231169      2736154      2803100
All: 522212
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           522212             38341                  0            13341        455311       483344       522118       526730
Repeatable Handle Time       522212             38341                  0            0            2            2            3            15670
Worker Queue Time            522212             38341                  0            0            57328        105309       465238       2685518
Worker Handle Time           522212             38341                  4            7            759          13613        81722        2783067
Total                        522212             38341                  5            17573        473522       505411       644126       2803100
Running experiment for throughput = 50000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get: 240025
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           240025             18017                  2668842      5908562      8455083      8461566      8487334      8504710
Repeatable Handle Time       240025             18017                  0            0            2            2            3            9954
Worker Queue Time            240025             18017                  0            0            76825        125845       247454       1486174
Worker Handle Time           240025             18017                  4            7            462          1072         20894        172969
Total                        240025             18017                  2668854      5909288      8456076      8462321      8502179      8600368
Range: 1216
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1216               91                     2668947      5896105      8423163      8455157      8485540      8485889
Repeatable Handle Time       1216               91                     0            0            2            2            2            3
Worker Queue Time            1216               91                     0            0            73849        108221       141746       1482915
Worker Handle Time           1216               91                     10001        44657        1212649      1353993      1534766      1800528
Total                        1216               91                     2696188      5933196      8504168      8574650      8815182      8923215
All: 241241
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           241241             18108                  2668842      5908529      8455071      8461566      8487329      8504710
Repeatable Handle Time       241241             18108                  0            0            2            2            3            9954
Worker Queue Time            241241             18108                  0            0            76813        125838       247511       1486174
Worker Handle Time           241241             18108                  4            7            1076         19511        126516       1800528
Total                        241241             18108                  2668854      5909390      8456159      8462407      8511823      8923215
Running experiment for throughput = 60000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get: 797553
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           797553             59590                  0            1            252841       254753       258197       262979
Repeatable Handle Time       797553             59590                  0            0            2            2            3            1507
Worker Queue Time            797553             59590                  0            0            15627        22401        106745       5631869
Worker Handle Time           797553             59590                  4            7            210          377          2965         10174621
Total                        797553             59590                  5            72           253110       254980       259252       10421950
Range: 4159
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4159               310                    0            1            252559       254529       257506       262467
Repeatable Handle Time       4159               310                    0            0            2            2            3            10
Worker Queue Time            4159               310                    0            0            15800        25352        111238       671146
Worker Handle Time           4159               310                    10001        29237        3907923      5424435      10562538     10935327
Total                        4159               310                    10002        41750        3983190      5622692      10813480     11170935
All: 801712
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           801712             59901                  0            1            252839       254750       258194       262979
Repeatable Handle Time       801712             59901                  0            0            2            2            3            1507
Worker Queue Time            801712             59901                  0            0            15628        22419        106745       5631869
Worker Handle Time           801712             59901                  4            7            389          13365        86339        10935327
Total                        801712             59901                  5            74           253378       255442       284826       11170935
Running experiment for throughput = 70000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get: 912268
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           912268             69342                  0            2404         47459        60175        68042        70388
Repeatable Handle Time       912268             69342                  0            0            2            2            3            806
Worker Queue Time            912268             69342                  0            0            451          2697         25396        6956564
Worker Handle Time           912268             69342                  4            7            210          420          3774         4439466
Total                        912268             69342                  5            2545         48334        61578        69713        6957286
Range: 4732
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4732               359                    0            2337         52189        59463        65965        69615
Repeatable Handle Time       4732               359                    0            0            2            2            3            11
Worker Queue Time            4732               359                    0            0            534          2138         34080        469414
Worker Handle Time           4732               359                    10001        27017        8243210      10837482     12493146     12682460
Total                        4732               359                    10001        35633        8243332      10837483     12493178     12682463
All: 917000
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           917000             69701                  0            2403         47470        60172        68037        70388
Repeatable Handle Time       917000             69701                  0            0            2            2            3            806
Worker Queue Time            917000             69701                  0            0            452          2697         25474        6956564
Worker Handle Time           917000             69701                  4            7            434          12036        62387        12682460
Total                        917000             69701                  5            2604         52729        63205        117777       12682463
Running experiment for throughput = 80000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get: 993027
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           993027             74507                  45944        277019       834420       858331       874739       878886
Repeatable Handle Time       993027             74507                  0            0            2            2            2            12952
Worker Queue Time            993027             74507                  0            0            28690        115289       563037       1194985
Worker Handle Time           993027             74507                  4            7            197          381          4362         714015
Total                        993027             74507                  45966        293790       838210       865837       949322       1470352
Range: 5056
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5056               379                    46449        272828       832782       844142       872058       876284
Repeatable Handle Time       5056               379                    0            0            2            2            2            10
Worker Queue Time            5056               379                    0            0            37211        173836       439293       1194682
Worker Handle Time           5056               379                    10001        22776        583777       851478       1103023      1519103
Total                        5056               379                    68250        339422       1035495      1228615      1381526      1668647
All: 998083
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           998083             74886                  45944        276860       834408       858286       874736       878886
Repeatable Handle Time       998083             74886                  0            0            2            2            2            12952
Worker Queue Time            998083             74886                  0            0            28719        115624       563037       1194985
Worker Handle Time           998083             74886                  4            7            384          10780        41705        1519103
Total                        998083             74886                  45966        293911       838341       866160       969867       1668647
Running experiment for throughput = 90000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '90000']
RocksDB Stats:
Get: 1055454
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1055454            74637                  288832       1130792      2359953      2364496      2373888      2381642
Repeatable Handle Time       1055454            74637                  0            0            2            2            2            14326
Worker Queue Time            1055454            74637                  0            0            26240        106310       420046       2188840
Worker Handle Time           1055454            74637                  4            7            188          351          3612         962073
Total                        1055454            74637                  288838       1131428      2360841      2366281      2391284      2977814
Range: 5225
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5225               369                    288833       1132952      2355639      2363134      2368922      2381116
Repeatable Handle Time       5225               369                    0            0            2            2            3            26
Worker Queue Time            5225               369                    0            0            28324        136249       557489       679680
Worker Handle Time           5225               369                    10001        23539        563309       774166       1482977      2346575
Total                        5225               369                    305636       1196805      2398154      2507136      2958683      3256447
All: 1060679
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1060679            75006                  288832       1130805      2359948      2364489      2373886      2381642
Repeatable Handle Time       1060679            75006                  0            0            2            2            2            14326
Worker Queue Time            1060679            75006                  0            0            26254        106389       420210       2188840
Worker Handle Time           1060679            75006                  4            7            344          10002        42749        2346575
Total                        1060679            75006                  288838       1131548      2360976      2366324      2393216      3256447
Running experiment for throughput = 100000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '100000']
RocksDB Stats:
Get: 1030300
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1030300            77728                  350602       1843446      2905975      2915759      2919176      2922050
Repeatable Handle Time       1030300            77728                  0            0            2            2            2            763
Worker Queue Time            1030300            77728                  0            0            28           92           27122        10023931
Worker Handle Time           1030300            77728                  4            6            198          410          4968         1128975
Total                        1030300            77728                  350608       1843590      2906158      2915786      2919199      10601681
Range: 5165
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5165               389                    350595       1796120      2903682      2914647      2918431      2921458
Repeatable Handle Time       5165               389                    0            0            2            2            3            11
Worker Queue Time            5165               389                    0            0            40           99           64523        102329
Worker Handle Time           5165               389                    10001        22401        290096       455089       10047162     10441274
Total                        5165               389                    360598       1836455      2944708      2995401      10614703     10943122
All: 1035465
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1035465            78118                  350595       1843284      2905964      2915756      2919176      2922050
Repeatable Handle Time       1035465            78118                  0            0            2            2            2            763
Worker Queue Time            1035465            78118                  0            0            28           92           27187        10023931
Worker Handle Time           1035465            78118                  4            6            405          10002        39507        10441274
Total                        1035465            78118                  350608       1843549      2906309      2915811      2919297      10943122
Running experiment for throughput = 110000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '110000']
RocksDB Stats:
Get: 772876
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           772876             59290                  1186604      2907795      5912194      5940730      5958585      5973271
Repeatable Handle Time       772876             59290                  0            0            2            2            3            16036
Worker Queue Time            772876             59290                  0            0            27382        70748        395949       3850087
Worker Handle Time           772876             59290                  4            7            321          777          7505         395493
Total                        772876             59290                  1186613      2909475      5923063      5947030      5959592      7098678
Range: 3911
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3911               300                    1188209      2908800      5922311      5939350      5958655      5958969
Repeatable Handle Time       3911               300                    0            0            2            2            3            13
Worker Queue Time            3911               300                    0            0            21633        46452        292540       557185
Worker Handle Time           3911               300                    10001        26679        658301       1821994      3834003      3924387
Total                        3911               300                    1202912      2965830      5988299      6100271      7075154      7106213
All: 776787
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           776787             59590                  1186604      2907796      5912195      5940726      5958586      5973271
Repeatable Handle Time       776787             59590                  0            0            2            2            3            16036
Worker Queue Time            776787             59590                  0            0            27358        70708        395889       3850087
Worker Handle Time           776787             59590                  4            7            781          12218        52667        3924387
Total                        776787             59590                  1186613      2909567      5923119      5947271      5959689      7106213
Running experiment for throughput = 120000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '120000']
RocksDB Stats:
Get: 841728
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           841728             63214                  1722921      4086509      6230796      6244934      6265820      6268302
Repeatable Handle Time       841728             63214                  0            0            2            2            3            11436
Worker Queue Time            841728             63214                  0            0            17405        35795        422436       4812933
Worker Handle Time           841728             63214                  4            6            278          592          5120         5094550
Total                        841728             63214                  1722928      4087036      6234088      6245315      6265928      7391391
Range: 4207
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4207               315                    1722997      4073696      6232656      6245746      6265462      6267516
Repeatable Handle Time       4207               315                    0            0            2            2            3            3
Worker Queue Time            4207               315                    0            0            16294        31043        386669       1233394
Worker Handle Time           4207               315                    10001        25714        2282162      4783672      5125400      6933934
Total                        4207               315                    1735823      4238561      6403275      7090073      7428298      9170386
All: 845935
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           845935             63530                  1722921      4086457      6230855      6244935      6265820      6268302
Repeatable Handle Time       845935             63530                  0            0            2            2            3            11436
Worker Queue Time            845935             63530                  0            0            17405        35795        422604       4812933
Worker Handle Time           845935             63530                  4            6            585          11162        54534        6933934
Total                        845935             63530                  1722928      4087662      6234340      6245504      6265952      9170386
Running experiment for throughput = 130000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '130000']
RocksDB Stats:
Get: 633152
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           633152             48493                  2514971      5357607      8094609      8103969      8151998      8159399
Repeatable Handle Time       633152             48493                  0            0            2            2            3            14982
Worker Queue Time            633152             48493                  0            0            51571        120442       441308       904088
Worker Handle Time           633152             48493                  4            6            290          581          10155        348351
Total                        633152             48493                  2514977      5357763      8094815      8119444      8159329      8370496
Range: 3137
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3137               240                    2515128      5333181      8094580      8141424      8152188      8159368
Repeatable Handle Time       3137               240                    0            0            2            2            3            84
Worker Queue Time            3137               240                    0            0            45891        121282       309991       696021
Worker Handle Time           3137               240                    10001        27535        422380       590757       780585       919519
Total                        3137               240                    2525129      5390083      8161375      8221693      8335266      8429905
All: 636289
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           636289             48734                  2514971      5357544      8094609      8103972      8152000      8159399
Repeatable Handle Time       636289             48734                  0            0            2            2            3            14982
Worker Queue Time            636289             48734                  0            0            51562        120474       441308       904088
Worker Handle Time           636289             48734                  4            6            570          11727        57473        919519
Total                        636289             48734                  2514977      5357773      8094828      8119534      8159346      8429905
Running experiment for throughput = 140000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '140000']
RocksDB Stats:
Get: 782043
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           782043             59476                  2235485      4796815      7502209      7519863      7534921      7551384
Repeatable Handle Time       782043             59476                  0            0            2            2            2            10497
Worker Queue Time            782043             59476                  0            0            18120        33593        213798       6332065
Worker Handle Time           782043             59476                  4            6            224          453          7085         1176973
Total                        782043             59476                  2235491      4796880      7504044      7521268      7535371      9155516
Range: 3996
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3996               303                    2235584      4791548      7494184      7507768      7534725      7535807
Repeatable Handle Time       3996               303                    0            0            2            2            2            16
Worker Queue Time            3996               303                    0            0            18388        30310        208275       6289414
Worker Handle Time           3996               303                    10001        23682        361479       667692       5451363      6739101
Total                        3996               303                    2249823      4829287      7545076      7631057      9128049      9523480
All: 786039
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           786039             59780                  2235485      4796812      7502184      7519857      7534919      7551384
Repeatable Handle Time       786039             59780                  0            0            2            2            2            10497
Worker Queue Time            786039             59780                  0            0            18124        33577        213711       6332065
Worker Handle Time           786039             59780                  4            6            460          11190        45943        6739101
Total                        786039             59780                  2235491      4796888      7504168      7521289      7535438      9523480
Running experiment for throughput = 150000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '150000']
RocksDB Stats:
Get: 643952
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           643952             46696                  4123061      6977807      9438242      9464411      9479378      9492399
Repeatable Handle Time       643952             46696                  0            0            2            2            3            7190
Worker Queue Time            643952             46696                  0            0            20174        40708        292128       4956892
Worker Handle Time           643952             46696                  5            6            236          504          8709         4845850
Total                        643952             46696                  4123068      6977860      9438285      9464434      9479414      11772743
Range: 3351
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3351               242                    4124134      6916199      9423162      9459731      9475520      9479894
Repeatable Handle Time       3351               242                    0            0            2            2            2            4
Worker Queue Time            3351               242                    0            0            20002        56404        252148       559556
Worker Handle Time           3351               242                    10001        26382        498683       610786       4931501      5113267
Total                        3351               242                    4140969      6962769      9472310      9498177      11813140     11925638
All: 647303
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           647303             46939                  4123061      6977778      9438238      9464411      9479365      9492399
Repeatable Handle Time       647303             46939                  0            0            2            2            3            7190
Worker Queue Time            647303             46939                  0            0            20174        42519        292128       4956892
Worker Handle Time           647303             46939                  5            7            528          12392        50013        5113267
Total                        647303             46939                  4123068      6977853      9438322      9464521      9479434      11925638
Running experiment for throughput = 160000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '160000']
RocksDB Stats:
Get: 799289
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           799289             59265                  2271415      5448381      8348999      8400856      8460816      8485074
Repeatable Handle Time       799289             59265                  0            0            2            2            2            5565
Worker Queue Time            799289             59265                  0            0            11187        28937        296357       2666582
Worker Handle Time           799289             59265                  4            6            237          528          8137         2411338
Total                        799289             59265                  2271424      5454793      8353131      8401948      8461065      9590315
Range: 4074
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4074               302                    2271482      5350040      8369073      8408342      8437150      8461811
Repeatable Handle Time       4074               302                    0            0            2            2            2            3
Worker Queue Time            4074               302                    0            0            9947         29017        172356       638258
Worker Handle Time           4074               302                    10001        23469        582866       1312504      2431133      3064166
Total                        4074               302                    2281541      5424140      8455853      8573821      9261975      9975209
All: 803363
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           803363             59567                  2271415      5448346      8349001      8400858      8460815      8485074
Repeatable Handle Time       803363             59567                  0            0            2            2            2            5565
Worker Queue Time            803363             59567                  0            0            11187        28953        296109       2666582
Worker Handle Time           803363             59567                  4            6            535          11274        44334        3064166
Total                        803363             59567                  2271424      5454786      8353814      8402079      8461207      9975209
Running experiment for throughput = 170000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '170000']
RocksDB Stats:
Get: 585309
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           585309             42376                  2934472      6835662      10331878     10346738     10356502     10357063
Repeatable Handle Time       585309             42376                  0            0            2            2            3            11339
Worker Queue Time            585309             42376                  0            0            38918        83669        418124       3297783
Worker Handle Time           585309             42376                  4            6            322          806          12340        363712
Total                        585309             42376                  2934478      6844781      10331900     10346760     10356529     11095203
Range: 2950
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2950               213                    2934933      6916952      10313277     10337449     10354819     10356727
Repeatable Handle Time       2950               213                    0            0            2            2            3            23
Worker Queue Time            2950               213                    0            0            42706        67707        494410       2111255
Worker Handle Time           2950               213                    10001        30802        634744       1782565      2869150      3067596
Total                        2950               213                    2978621      7067460      10353004     10376362     11097999     11192579
All: 588259
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           588259             42589                  2934472      6835691      10331872     10346735     10356501     10357063
Repeatable Handle Time       588259             42589                  0            0            2            2            3            11339
Worker Queue Time            588259             42589                  0            0            38988        83493        418423       3297783
Worker Handle Time           588259             42589                  4            6            802          14038        65551        3067596
Total                        588259             42589                  2934478      6844833      10331911     10346792     10356566     11192579
Running experiment for throughput = 180000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '180000']
RocksDB Stats:
Get: 658698
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           658698             49862                  3756476      6500813      9467039      9508778      9528316      9545667
Repeatable Handle Time       658698             49862                  0            0            2            2            2            16038
Worker Queue Time            658698             49862                  0            0            14535        29082        378065       4869551
Worker Handle Time           658698             49862                  4            6            227          451          9096         1071985
Total                        658698             49862                  3756482      6501601      9472359      9508877      9528429      9651264
Range: 3405
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3405               257                    3756482      6539158      9472966      9501298      9522513      9528180
Repeatable Handle Time       3405               257                    0            0            2            2            3            34
Worker Queue Time            3405               257                    0            0            9476         26848        906055       4867301
Worker Handle Time           3405               257                    10001        21987        732102       1114366      4897813      4967625
Total                        3405               257                    3766484      6596710      9520765      9547163      9663260      9697100
All: 662103
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           662103             50120                  3756476      6500997      9467041      9508777      9528315      9545667
Repeatable Handle Time       662103             50120                  0            0            2            2            2            16038
Worker Queue Time            662103             50120                  0            0            14533        29066        378086       4869551
Worker Handle Time           662103             50120                  4            6            467          11085        48448        4967625
Total                        662103             50120                  3756482      6501865      9472450      9508891      9528445      9697100
Running experiment for throughput = 190000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '190000']
RocksDB Stats:
Get: 632681
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           632681             48126                  3834637      6939173      9755852      9796814      9804389      9821671
Repeatable Handle Time       632681             48126                  0            0            2            2            2            15558
Worker Queue Time            632681             48126                  0            0            41382        112235       339594       1286325
Worker Handle Time           632681             48126                  4            6            226          404          5182         529906
Total                        632681             48126                  3834648      6939275      9755972      9797199      9804715      9861477
Range: 3151
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3151               239                    3834650      6837561      9747126      9786252      9804260      9804857
Repeatable Handle Time       3151               239                    0            0            2            2            2            24
Worker Queue Time            3151               239                    0            0            29792        74300        247235       1177324
Worker Handle Time           3151               239                    10001        25471        608564       853273       1318679      1565115
Total                        3151               239                    3856678      6914780      9782479      9827401      9854476      9885276
All: 635832
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           635832             48366                  3834637      6939126      9755844      9796807      9804388      9821671
Repeatable Handle Time       635832             48366                  0            0            2            2            2            15558
Worker Queue Time            635832             48366                  0            0            41230        110416       339503       1286325
Worker Handle Time           635832             48366                  4            6            398          10447        51943        1565115
Total                        635832             48366                  3834648      6939272      9755978      9797200      9804745      9885276
Running experiment for throughput = 200000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '200000']
RocksDB Stats:
Get: 797417
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           797417             58573                  3642720      6595616      9551018      9583567      9597544      9607904
Repeatable Handle Time       797417             58573                  0            0            2            2            2            1192
Worker Queue Time            797417             58573                  0            0            21           68           1694         3615124
Worker Handle Time           797417             58573                  4            6            166          305          3197         8790556
Total                        797417             58573                  3642727      6595977      9551070      9583590      9597618      13210313
Range: 4030
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4030               296                    3642911      6601208      9544793      9577288      9598203      9604092
Repeatable Handle Time       4030               296                    0            0            2            2            2            3
Worker Queue Time            4030               296                    0            0            27           101          330          6872
Worker Handle Time           4030               296                    10001        22008        492425       859269       3623846      8855218
Total                        4030               296                    3655167      6650108      9607198      9631452      10305408     13230793
All: 801447
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           801447             58869                  3642720      6595895      9550998      9583567      9597569      9607904
Repeatable Handle Time       801447             58869                  0            0            2            2            2            1192
Worker Queue Time            801447             58869                  0            0            21           68           1677         3615124
Worker Handle Time           801447             58869                  4            6            305          10002        45419        8855218
Total                        801447             58869                  3642727      6597070      9551302      9583650      9597702      13230793
Running experiment for throughput = 210000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '210000']
RocksDB Stats:
Get: 760461
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           760461             58036                  3602445      6634890      9405690      9442846      9459276      9462788
Repeatable Handle Time       760461             58036                  0            0            2            2            2            100
Worker Queue Time            760461             58036                  0            0            20           47           130          978155
Worker Handle Time           760461             58036                  4            6            169          337          4213         1023526
Total                        760461             58036                  3602468      6634906      9405800      9442887      9459298      9468863
Range: 3801
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3801               290                    3603451      6559681      9406071      9441078      9462161      9462791
Repeatable Handle Time       3801               290                    0            0            2            2            2            55
Worker Queue Time            3801               290                    0            0            23           70           116          1562
Worker Handle Time           3801               290                    10001        22199        172476       359641       7371928      8365064
Total                        3801               290                    3626949      6603274      9453696      9482298      12326346     12682840
All: 764262
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           764262             58326                  3602445      6634870      9405690      9442844      9459282      9462791
Repeatable Handle Time       764262             58326                  0            0            2            2            2            100
Worker Queue Time            764262             58326                  0            0            20           47           130          978155
Worker Handle Time           764262             58326                  4            6            332          10002        38981        8365064
Total                        764262             58326                  3602468      6634900      9405861      9442901      9459413      12682840
Running experiment for throughput = 220000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '220000']
RocksDB Stats:
Get: 806878
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           806878             59638                  3758104      6677618      9782828      9809217      9830886      9836961
Repeatable Handle Time       806878             59638                  0            0            2            2            2            892
Worker Queue Time            806878             59638                  0            0            21           65           278          282803
Worker Handle Time           806878             59638                  4            6            173          343          3859         219270
Total                        806878             59638                  3758147      6677632      9782848      9809245      9830899      9855666
Range: 3952
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3952               292                    3759114      6757624      9777144      9807725      9832219      9836965
Repeatable Handle Time       3952               292                    0            0            2            2            3            8
Worker Queue Time            3952               292                    0            0            8            25           102          178
Worker Handle Time           3952               292                    10001        21744        306622       608852       2774218      3639655
Total                        3952               292                    3780064      6801706      9819507      9846537      10609865     11077222
All: 810830
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           810830             59930                  3758104      6677624      9782816      9809217      9830887      9836965
Repeatable Handle Time       810830             59930                  0            0            2            2            2            892
Worker Queue Time            810830             59930                  0            0            21           65           272          282803
Worker Handle Time           810830             59930                  4            6            329          10002        39661        3639655
Total                        810830             59930                  3758147      6677645      9782957      9809364      9830966      11077222
Running experiment for throughput = 230000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '230000']
RocksDB Stats:
Get: 703584
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           703584             53480                  4189432      7305857      10023456     10062575     10080262     10087517
Repeatable Handle Time       703584             53480                  0            0            2            2            2            11762
Worker Queue Time            703584             53480                  0            0            19611        29978        374653       1023707
Worker Handle Time           703584             53480                  4            6            183          342          3221         3596719
Total                        703584             53480                  4189439      7305900      10023540     10062613     10080281     11395926
Range: 3502
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3502               266                    4189448      7189589      10026456     10059877     10079457     10083213
Repeatable Handle Time       3502               266                    0            0            2            2            2            3
Worker Queue Time            3502               266                    0            0            17780        31520        422189       544411
Worker Handle Time           3502               266                    10001        22729        460474       941124       3603361      3655849
Total                        3502               266                    4207204      7224763      10083205     10123033     11411056     11423010
All: 707086
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           707086             53746                  4189432      7305846      10023512     10062560     10080257     10087517
Repeatable Handle Time       707086             53746                  0            0            2            2            2            11762
Worker Queue Time            707086             53746                  0            0            19605        29987        374676       1023707
Worker Handle Time           707086             53746                  4            6            336          10002        44050        3655849
Total                        707086             53746                  4189439      7305893      10023802     10062758     10081157     11423010
Running experiment for throughput = 240000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '240000']
RocksDB Stats:
Get: 698717
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           698717             52851                  4619166      7400689      10241679     10247748     10273283     10290361
Repeatable Handle Time       698717             52851                  0            0            2            2            2            1013
Worker Queue Time            698717             52851                  0            0            21           57           184          870086
Worker Handle Time           698717             52851                  4            7            184          379          4559         190485
Total                        698717             52851                  4619174      7400733      10241720     10247848     10273323     10290973
Range: 3474
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3474               262                    4619284      7434737      10229050     10251291     10278702     10290366
Repeatable Handle Time       3474               262                    0            0            2            2            3            3
Worker Queue Time            3474               262                    0            0            22           65           143          119530
Worker Handle Time           3474               262                    10001        22248        420548       786984       6195749      8045201
Total                        3474               262                    4635507      7487921      10286409     10308429     12057451     13047733
All: 702191
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           702191             53114                  4619166      7400729      10241659     10247766     10273320     10290366
Repeatable Handle Time       702191             53114                  0            0            2            2            2            1013
Worker Queue Time            702191             53114                  0            0            21           57           184          870086
Worker Handle Time           702191             53114                  4            7            373          10002        40349        8045201
Total                        702191             53114                  4619174      7400785      10241856     10248044     10274730     13047733
Running experiment for throughput = 250000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '250000']
RocksDB Stats:
Get: 664406
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           664406             50815                  4598481      7521416      10344118     10357628     10389335     10399205
Repeatable Handle Time       664406             50815                  0            0            2            2            2            1559
Worker Queue Time            664406             50815                  0            0            77           7247         139634       1316802
Worker Handle Time           664406             50815                  5            6            169          319          3638         1287205
Total                        664406             50815                  4598487      7525587      10344152     10357656     10389366     10449696
Range: 3317
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3317               253                    4598614      7526296      10343730     10370248     10393031     10395632
Repeatable Handle Time       3317               253                    0            0            2            2            3            3
Worker Queue Time            3317               253                    0            0            66           425          103837       1309289
Worker Handle Time           3317               253                    10001        22859        540850       793744       3830469      4456576
Total                        3317               253                    4611465      7581346      10393302     10427339     11638903     11841030
All: 667723
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           667723             51069                  4598481      7521434      10344119     10357657     10389359     10399205
Repeatable Handle Time       667723             51069                  0            0            2            2            2            1559
Worker Queue Time            667723             51069                  0            0            77           7247         139634       1316802
Worker Handle Time           667723             51069                  5            6            316          10002        43143        4456576
Total                        667723             51069                  4598487      7525590      10344280     10357763     10390092     11841030
Running experiment for throughput = 260000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '260000']
RocksDB Stats:
Get: 666375
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           666375             50462                  4527878      7367923      10540100     10575243     10604923     10623415
Repeatable Handle Time       666375             50462                  0            0            2            2            2            692
Worker Queue Time            666375             50462                  0            0            1921         19590        210248       958878
Worker Handle Time           666375             50462                  4            6            188          376          5287         3638284
Total                        666375             50462                  4527887      7367941      10542016     10575581     10605934     10665146
Range: 3425
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3425               259                    4528009      7439839      10560004     10590210     10607593     10623380
Repeatable Handle Time       3425               259                    0            0            2            2            3            3
Worker Queue Time            3425               259                    0            0            301          21967        226556       957211
Worker Handle Time           3425               259                    10001        21946        232081       339448       969590       1308328
Total                        3425               259                    4540079      7476648      10605346     10667857     10733828     10784878
All: 669800
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           669800             50722                  4527878      7368116      10540160     10575264     10604943     10623415
Repeatable Handle Time       669800             50722                  0            0            2            2            2            692
Worker Queue Time            669800             50722                  0            0            1912         19641        210248       958878
Worker Handle Time           669800             50722                  4            6            387          10148        40011        3638284
Total                        669800             50722                  4527887      7368240      10542281     10575593     10606066     10784878
Running experiment for throughput = 270000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '270000']
RocksDB Stats:
Get: 628135
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           628135             47056                  5326117      8061020      10953442     10985515     11008373     11011619
Repeatable Handle Time       628135             47056                  0            0            2            2            2            651
Worker Queue Time            628135             47056                  0            0            22           67           234          157319
Worker Handle Time           628135             47056                  4            6            185          367          4000         148189
Total                        628135             47056                  5326125      8061825      10953530     10985522     11008400     11026291
Range: 3207
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3207               240                    5326616      8142410      10954695     10983473     11004934     11010804
Repeatable Handle Time       3207               240                    0            0            2            2            3            15
Worker Queue Time            3207               240                    0            0            22           63           121          2270
Worker Handle Time           3207               240                    10001        23139        391825       803708       3171427      7416027
Total                        3207               240                    5356208      8186835      10998732     11026864     11356598     13192072
All: 631342
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           631342             47296                  5326117      8061920      10953442     10985515     11008372     11011619
Repeatable Handle Time       631342             47296                  0            0            2            2            2            651
Worker Queue Time            631342             47296                  0            0            22           67           232          157319
Worker Handle Time           631342             47296                  4            6            373          10270        42197        7416027
Total                        631342             47296                  5326125      8062000      10953874     10985527     11008436     13192072
Running experiment for throughput = 280000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '280000']
RocksDB Stats:
Get: 654223
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           654223             50281                  4805826      7773763      10605829     10641535     10660779     10664095
Repeatable Handle Time       654223             50281                  0            0            2            2            2            15218
Worker Queue Time            654223             50281                  0            0            2726         25395        297892       2991990
Worker Handle Time           654223             50281                  4            6            171          314          3308         263663
Total                        654223             50281                  4805833      7778877      10606155     10642281     10662032     11211581
Range: 3272
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3272               251                    4805832      7774258      10604611     10629922     10648146     10661282
Repeatable Handle Time       3272               251                    0            0            2            2            3            13
Worker Queue Time            3272               251                    0            0            5225         26673        241834       2983409
Worker Handle Time           3272               251                    10001        21926        467211       932196       3000526      3674852
Total                        3272               251                    4815834      7816880      10650930     10702564     11261894     11774166
All: 657495
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           657495             50532                  4805826      7773792      10605829     10641524     10660779     10664095
Repeatable Handle Time       657495             50532                  0            0            2            2            2            15218
Worker Queue Time            657495             50532                  0            0            2751         25411        297928       2991990
Worker Handle Time           657495             50532                  4            6            311          10002        43094        3674852
Total                        657495             50532                  4805833      7779197      10606265     10642372     10662212     11774166
Running experiment for throughput = 290000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '290000']
RocksDB Stats:
Get: 588774
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           588774             44997                  5615803      8313162      10997121     11025583     11040436     11045883
Repeatable Handle Time       588774             44997                  0            0            2            2            2            126
Worker Queue Time            588774             44997                  0            0            21           61           152          1651386
Worker Handle Time           588774             44997                  4            6            175          354          4100         912043
Total                        588774             44997                  5615809      8313171      10997182     11025611     11040501     11045953
Range: 3015
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3015               230                    5616023      8351691      10988532     11025895     11041859     11045017
Repeatable Handle Time       3015               230                    0            0            2            2            3            100
Worker Queue Time            3015               230                    0            0            20           54           120          253
Worker Handle Time           3015               230                    10001        22526        250805       411591       1688499      5251466
Total                        3015               230                    5643042      8384435      11030633     11063346     11303268     12520120
All: 591789
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           591789             45228                  5615803      8313169      10997121     11025585     11040452     11045883
Repeatable Handle Time       591789             45228                  0            0            2            2            2            126
Worker Queue Time            591789             45228                  0            0            21           61           152          1651386
Worker Handle Time           591789             45228                  4            6            363          10033        38965        5251466
Total                        591789             45228                  5615809      8313230      10997318     11025638     11040704     12520120
Running experiment for throughput = 300000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.005', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '4us', '--range_duration', '10000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '300000']
RocksDB Stats:
Get: 721446
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           721446             49541                  5669842      9017095      12087942     12116515     12137903     12147944
Repeatable Handle Time       721446             49541                  0            0            2            2            2            903
Worker Queue Time            721446             49541                  0            0            22           72           16105        6735933
Worker Handle Time           721446             49541                  4            6            171          350          4374         1049550
Total                        721446             49541                  5669850      9017154      12088026     12116577     12137939     13157558
Range: 3597
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3597               247                    5671059      8975929      12087809     12119965     12140103     12146878
Repeatable Handle Time       3597               247                    0            0            2            2            2            3
Worker Queue Time            3597               247                    0            0            23           77           8826         29941
Worker Handle Time           3597               247                    10001        21499        195363       435198       7926870      7947249
Total                        3597               247                    5681061      9015010      12127916     12179824     14347573     14349467
All: 725043
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           725043             49788                  5669842      9016972      12087942     12116534     12137915     12147944
Repeatable Handle Time       725043             49788                  0            0            2            2            2            903
Worker Queue Time            725043             49788                  0            0            22           73           16101        6735933
Worker Handle Time           725043             49788                  4            6            343          10002        37815        7947249
Total                        725043             49788                  5669850      9017154      12088142     12116652     12138073     14349467
